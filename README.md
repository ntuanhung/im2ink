# im2ink

## Overview
This project aims to reconstruct the offline character images back to online handwritten trajectories using an encoder-decoder with attention and GMM.

For questions or more details, please contact us via email addresses: ntuanhung@gmail.com or nakagawa (at) cc.tuat.ac.jp

## Demo

In this part, we provide samples as animated movies rather than static figures in the paper. 
Moreover, we show here more samples than in the paper.

### 1. Recovered samples (Figures 3, 4 and 5 in the paper)

In the following figures, the original trajectories are colored by black and the recovered trajectories are colored by red.
For figures generated by the attention layer, the focused regions on original trajectories at every step are shown by brighter color.

Next, the samples are successfully recovered either with or without the attention layer.

<table align="center">
    <caption><b>Figure 3. Successfully recovered examples.</b></caption>
    <thead>
        <tr>
            <th> </th>
            <th>With attention layer</th>
            <th>Without attention layer</th>
        </tr>
    </thead>
    <tbody align="center">
        <tr>
            <td rowspan=3><b>Samples in paper</b></td>
            <td>
                <img src="./demo_gif/paper_3a_1_00010_re.gif" alt="paper_fig3a_1_animated" >
                <img src="./demo_gif/paper_3a_1_00010.png" alt="paper_fig3a_1_static" >
            </td>
            <td>
                <img src="./demo_gif/paper_3b_1_00010_re.gif" alt="paper_fig3b_1_animated" >
                <img src="./demo_gif/paper_3b_1_00010.png" alt="paper_fig3b_1_static" >
            </td>
        </tr><!-- 00010 -->
        <tr>
            <td>
                <img src="./demo_gif/paper_3a_2_00133_re.gif" alt="paper_fig3a_2_animated" >
                <img src="./demo_gif/paper_3a_2_00133.png" alt="paper_fig3a_2_static" >
            </td>
            <td>
                <img src="./demo_gif/paper_3b_2_00133_re.gif" alt="paper_fig3b_2_animated" >
                <img src="./demo_gif/paper_3b_2_00133.png" alt="paper_fig3b_2_static" >
            </td>
        </tr><!-- 00133 -->
        <tr>
            <td>
                <img src="./demo_gif/paper_3a_3_00417_re.gif" alt="paper_fig3a_3_animated" >
                <img src="./demo_gif/paper_3a_3_00417.png" alt="paper_fig3a_3_static" >
            </td>
            <td>
                <img src="./demo_gif/paper_3b_3_00417_re.gif" alt="paper_fig3b_3_animated" >
                <img src="./demo_gif/paper_3b_3_00417.png" alt="paper_fig3b_3_static" >
            </td>
        </tr><!-- 00417 -->
        <tr>
            <td rowspan=3>Other samples</td>
            <td>
                <img src="./demo_gif/other_3a_1_00211_re.gif" alt="other_fig3a_1_animated" >
                <img src="./demo_gif/other_3a_1_00211.png" alt="other_fig3a_1_static" >
            </td>
            <td>
                <img src="./demo_gif/other_3b_1_00211_re.gif" alt="other_fig3b_1_animated" >
                <img src="./demo_gif/other_3b_1_00211.png" alt="other_fig3b_1_static" >
            </td>
        </tr><!-- 00211 -->
        <tr>
            <td>
                <img src="./demo_gif/other_3a_2_00137_re.gif" alt="other_fig3a_2_animated" >
                <img src="./demo_gif/other_3a_2_00137.png" alt="other_fig3a_2_static" >
            </td>
            <td>
                <img src="./demo_gif/other_3b_2_00137_re.gif" alt="other_fig3b_2_animated" >
                <img src="./demo_gif/other_3b_2_00137.png" alt="other_fig3b_2_static" >
            </td>
        </tr><!-- 00137 -->
        <tr>
            <td>
                <img src="./demo_gif/other_3a_3_00086_re.gif" alt="other_fig3a_3_animated" >
                <img src="./demo_gif/other_3a_3_00086.png" alt="other_fig3a_3_static" >
            </td>
            <td>
                <img src="./demo_gif/other_3b_3_00086_re.gif" alt="other_fig3b_3_animated" >
                <img src="./demo_gif/other_3b_3_00086.png" alt="other_fig3b_3_static" >
            </td>
        </tr><!-- 00086 -->
    </tbody>
</table>

The samples were successfully recovered with the attention layer, but unsuccessfully recovered without the attention layer.

<table align="center">
    <caption><b>Figure 4. Successfully recovered examples with attention.</b></caption>
    <thead>
        <tr>
            <th> </th>
            <th>With attention layer</th>
            <th>Without attention layer</th>
        </tr>
    </thead>
    <tbody align="center">
        <tr>
            <td rowspan=3><b>Samples in paper</b></td>
            <td>
                <img src="./demo_gif/paper_4a_1_00449_re.gif" alt="paper_fig4a_1_animated" >
                <img src="./demo_gif/paper_4a_1_00449.png" alt="paper_fig4a_1_static" >
            </td>
            <td>
                <img src="./demo_gif/paper_4b_1_00449_re.gif" alt="paper_fig4b_1_animated" >
                <img src="./demo_gif/paper_4b_1_00449.png" alt="paper_fig4b_1_static" >
            </td>
        </tr><!-- 00449 -->
        <tr>
            <td>
                <img src="./demo_gif/paper_4a_2_00267_re.gif" alt="paper_fig4a_2_animated" >
                <img src="./demo_gif/paper_4a_2_00267.png" alt="paper_fig4a_2_static" >
            </td>
            <td>
                <img src="./demo_gif/paper_4b_2_00267_re.gif" alt="paper_fig4b_2_animated" >
                <img src="./demo_gif/paper_4b_2_00267.png" alt="paper_fig4b_2_static" >
            </td>
        </tr><!-- 00267 -->
        <tr>
            <td>
                <img src="./demo_gif/paper_4a_3_00186_re.gif" alt="paper_fig4a_3_animated" >
                <img src="./demo_gif/paper_4a_3_00186.png" alt="paper_fig4a_3_static" >
            </td>
            <td>
                <img src="./demo_gif/paper_4b_3_00186_re.gif" alt="paper_fig4b_3_animated" >
                <img src="./demo_gif/paper_4b_3_00186.png" alt="paper_fig4b_3_static" >
            </td>
        </tr><!-- 00186 -->
        <tr>
            <td rowspan=3>Other samples</td>
            <td>
                <img src="./demo_gif/other_4a_1_00127_re.gif" alt="other_fig4a_1_animated" >
                <img src="./demo_gif/other_4a_1_00127.png" alt="other_fig4a_1_static" >
            </td>
            <td>
                <img src="./demo_gif/other_4b_1_00127_re.gif" alt="other_fig4b_1_animated" >
                <img src="./demo_gif/other_4b_1_00127.png" alt="other_fig4b_1_static" >
            </td>
        </tr><!-- 00127 -->
        <tr>
            <td>
                <img src="./demo_gif/other_4a_2_00157_re.gif" alt="other_fig4a_2_animated" >
                <img src="./demo_gif/other_4a_2_00157.png" alt="other_fig4a_2_static" >
            </td>
            <td>
                <img src="./demo_gif/other_4b_2_00157_re.gif" alt="other_fig4b_2_animated" >
                <img src="./demo_gif/other_4b_2_00157.png" alt="other_fig4b_2_static" >
            </td>
        </tr><!-- 00157 -->
        <tr>
            <td>
                <img src="./demo_gif/other_4a_3_00179_re.gif" alt="other_fig4a_3_animated" >
                <img src="./demo_gif/other_4a_3_00179.png" alt="other_fig4a_3_static" >
            </td>
            <td>
                <img src="./demo_gif/other_4b_3_00179_re.gif" alt="other_fig4b_3_animated" >
                <img src="./demo_gif/other_4b_3_00179.png" alt="other_fig4b_3_static" >
            </td>
        </tr><!-- 00179 -->
    </tbody>
</table>

The samples are unsuccessfully recovered either with or without the attention layer.

<table align="center">
    <caption><b>Figure 5. Unsuccessfully recovered examples.</b></caption>
    <thead>
        <tr>
            <th> </th>
            <th>With attention layer</th>
            <th>Without attention layer</th>
        </tr>
    </thead>
    <tbody align="center">
        <tr>
            <td rowspan=3><b>Samples in paper</b></td>
            <td>
                <img src="./demo_gif/paper_5a_1_36177_re.gif" alt="paper_fig5a_1_animated" >
                <img src="./demo_gif/paper_5a_1_36177.png" alt="paper_fig5a_1_static" >
            </td>
            <td>
                <img src="./demo_gif/paper_5b_1_36177_re.gif" alt="paper_fig5b_1_animated" >
                <img src="./demo_gif/paper_5b_1_36177.png" alt="paper_fig5b_1_static" >
            </td>
        </tr><!-- 36177 -->
        <tr>
            <td>
                <img src="./demo_gif/paper_5a_2_33243_re.gif" alt="paper_fig5a_2_animated" >
                <img src="./demo_gif/paper_5a_2_33243.png" alt="paper_fig5a_2_static" >
            </td>
            <td>
                <img src="./demo_gif/paper_5b_2_33243_re.gif" alt="paper_fig5b_2_animated" >
                <img src="./demo_gif/paper_5b_2_33243.png" alt="paper_fig5b_2_static" >
            </td>
        </tr><!-- 33243 -->        
        <tr>
            <td>
                <img src="./demo_gif/paper_5a_3_00009_re.gif" alt="paper_fig5a_3_animated" >
                <img src="./demo_gif/paper_5a_3_00009.png" alt="paper_fig5a_3_static" >
            </td>
            <td>
                <img src="./demo_gif/paper_5b_3_00009_re.gif" alt="paper_fig5b_3_animated" >
                <img src="./demo_gif/paper_5b_3_00009.png" alt="paper_fig5b_3_static" >
            </td>
        </tr><!-- 00009 -->
    </tbody>
</table>

### 2. Unnatural recovered samples (Figure 6(a) in the paper)

Although the following samples are successfully recovered, their online trajectories consist of more points than the original ones, as shown in Figure 6 (a).

<table align="center">
    <caption><b>Figure 6 (a). Sample recovered with unusual pen/touch speed.</b></caption>
    <thead>
        <tr>
            <th> </th>
            <th>Original trajectories</th>
            <th>Recovered trajectories</th>
        </tr>
    </thead>
    <tbody align="center">
        <tr>
            <td><b>Sample in paper</b></td>
            <td><img src="./demo_gif/paper_6a_1_00808_or.gif" alt="paper_fig6a_1_origin" ></td>
            <td>
                <img src="./demo_gif/paper_6a_1_00808_re.gif" alt="paper_fig6a_1_recover" >
                <img src="./demo_gif/paper_6a_1_00808.png" alt="paper_fig6a_1_static" >
            </td>
        </tr><!-- 00808 -->
        <tr>
            <td rowspan=2>Other samples</td>
            <td><img src="./demo_gif/other_6a_1_02838_or.gif" alt="other_fig6a_1_origin" ></td>
            <td>
                <img src="./demo_gif/other_6a_1_02838_re.gif" alt="other_fig6a_1_recover" >
                <img src="./demo_gif/other_6a_1_02838.png" alt="paper_fig6a_1_static" >
            </td>
        </tr><!-- 02838 -->
        <tr>
            <td><img src="./demo_gif/other_6a_2_01651_or.gif" alt="other_fig6a_2_origin" ></td>
            <td>
                <img src="./demo_gif/other_6a_2_01651_re.gif" alt="other_fig6a_2_recover" >
                <img src="./demo_gif/other_6a_2_01651.png" alt="paper_fig6a_2_static" >
            </td>
        </tr><!-- 01651 -->
    </tbody>
</table>

### 3. Incompletely recovered samples (Figure 6(b) in the paper)

As shown in Figure 6 (b), there are incompletely recovered samples when attention was stuck.

<table align="center">
    <caption><b>Figure 6 (b). Sample whose recovery was stuck.</b></caption>
    <thead>
        <tr>
            <th> </th>
            <th>Original trajectories</th>
            <th>Recovered trajectories</th>
        </tr>
    </thead>
    <tbody align="center">
        <tr>
            <td><b>Sample in paper</b></td>
            <td><img src="./demo_gif/paper_6b_1_00331_or.gif" alt="paper_fig6b_1_origin" ></td>
            <td>
                <img src="./demo_gif/paper_6b_1_00331_re.gif" alt="paper_fig6b_1_recover" >
                <img src="./demo_gif/paper_6b_1_00331.png" alt="paper_fig6b_1_static" >
            </td>
        </tr><!-- 00331 -->
        <tr>
            <td rowspan=2>Other samples</td>
            <td><img src="./demo_gif/other_6b_1_00688_or.gif" alt="other_fig6b_1_origin" ></td>
            <td>
                <img src="./demo_gif/other_6b_1_00688_re.gif" alt="other_fig6b_1_recover" >
                <img src="./demo_gif/other_6b_1_00688.png" alt="paper_fig6b_1_static" >
            </td>
        </tr><!-- 00688 -->
        <tr>
            <td><img src="./demo_gif/other_6b_2_00361_or.gif" alt="other_fig6b_2_origin" ></td>
            <td>
                <img src="./demo_gif/other_6b_2_00361_re.gif" alt="other_fig6b_2_recover" >
                <img src="./demo_gif/other_6b_2_00361.png" alt="paper_fig6b_2_static" >
            </td>
        </tr><!-- 00361 -->
    </tbody>
</table>
